import React, { useState } from 'react';
import { AlertCircle, Clock, Activity, BookOpen, ExternalLink } from 'lucide-react';

export default function StrokeTool() {
  const [nihssScores, setNihssScores] = useState({
    consciousness: 0, monthAge: 0, commands: 0, gaze: 0, visual: 0,
    facialPalsy: 0, leftArm: 0, rightArm: 0, leftLeg: 0, rightLeg: 0,
    limbAtaxia: 0, sensory: 0, language: 0, dysarthria: 0, extinction: 0
  });

  const [strokeData, setStrokeData] = useState({
    lastKnownWell: '', bloodPressure: '', glucose: '', inrValue: '',
    plateletCount: '', onAnticoagulation: false, recentSurgery: false,
    recentStroke: false, activeBleed: false, seizureAtOnset: false
  });

  const [labsOrdered, setLabsOrdered] = useState({
    glucose: false, noncontrastCT: false, ptInr: false, aptt: false,
    plateletCount: false, cbc: false, renalFunction: false,
    cardiacEnzymes: false, lfts: false
  });

  const [activeTab, setActiveTab] = useState('nihss');

  const nihssItems = {
    consciousness: {
      name: '1a. Level of Consciousness',
      options: [
        { value: 0, label: '0 = Alert' },
        { value: 1, label: '1 = Not alert; arousable with minor stimulation' },
        { value: 2, label: '2 = Not alert; requires repeated stimulation' },
        { value: 3, label: '3 = Unresponsive or responds only with reflex' }
      ]
    },
    monthAge: {
      name: '1b. LOC Questions (Month and Age)',
      options: [
        { value: 0, label: '0 = Both correct' },
        { value: 1, label: '1 = One correct' },
        { value: 2, label: '2 = Both incorrect' }
      ]
    },
    commands: {
      name: '1c. LOC Commands (Close eyes, open/close hand)',
      options: [
        { value: 0, label: '0 = Both correct' },
        { value: 1, label: '1 = One correct' },
        { value: 2, label: '2 = Both incorrect' }
      ]
    },
    gaze: {
      name: '2. Best Gaze',
      options: [
        { value: 0, label: '0 = Normal' },
        { value: 1, label: '1 = Partial gaze palsy' },
        { value: 2, label: '2 = Forced deviation' }
      ]
    },
    visual: {
      name: '3. Visual Fields',
      options: [
        { value: 0, label: '0 = No visual loss' },
        { value: 1, label: '1 = Partial hemianopia' },
        { value: 2, label: '2 = Complete hemianopia' },
        { value: 3, label: '3 = Bilateral hemianopia' }
      ]
    },
    facialPalsy: {
      name: '4. Facial Palsy',
      options: [
        { value: 0, label: '0 = Normal' },
        { value: 1, label: '1 = Minor paralysis' },
        { value: 2, label: '2 = Partial paralysis' },
        { value: 3, label: '3 = Complete paralysis' }
      ]
    },
    leftArm: {
      name: '5a. Left Arm Motor',
      options: [
        { value: 0, label: '0 = No drift' },
        { value: 1, label: '1 = Drift before 10 seconds' },
        { value: 2, label: '2 = Some effort against gravity' },
        { value: 3, label: '3 = No effort against gravity' },
        { value: 4, label: '4 = No movement' }
      ]
    },
    rightArm: {
      name: '5b. Right Arm Motor',
      options: [
        { value: 0, label: '0 = No drift' },
        { value: 1, label: '1 = Drift before 10 seconds' },
        { value: 2, label: '2 = Some effort against gravity' },
        { value: 3, label: '3 = No effort against gravity' },
        { value: 4, label: '4 = No movement' }
      ]
    },
    leftLeg: {
      name: '6a. Left Leg Motor',
      options: [
        { value: 0, label: '0 = No drift' },
        { value: 1, label: '1 = Drift before 5 seconds' },
        { value: 2, label: '2 = Some effort against gravity' },
        { value: 3, label: '3 = No effort against gravity' },
        { value: 4, label: '4 = No movement' }
      ]
    },
    rightLeg: {
      name: '6b. Right Leg Motor',
      options: [
        { value: 0, label: '0 = No drift' },
        { value: 1, label: '1 = Drift before 5 seconds' },
        { value: 2, label: '2 = Some effort against gravity' },
        { value: 3, label: '3 = No effort against gravity' },
        { value: 4, label: '4 = No movement' }
      ]
    },
    limbAtaxia: {
      name: '7. Limb Ataxia',
      options: [
        { value: 0, label: '0 = Absent' },
        { value: 1, label: '1 = Present in one limb' },
        { value: 2, label: '2 = Present in two limbs' }
      ]
    },
    sensory: {
      name: '8. Sensory',
      options: [
        { value: 0, label: '0 = Normal' },
        { value: 1, label: '1 = Mild-moderate loss' },
        { value: 2, label: '2 = Severe to total loss' }
      ]
    },
    language: {
      name: '9. Best Language',
      options: [
        { value: 0, label: '0 = No aphasia' },
        { value: 1, label: '1 = Mild-moderate aphasia' },
        { value: 2, label: '2 = Severe aphasia' },
        { value: 3, label: '3 = Mute or global aphasia' }
      ]
    },
    dysarthria: {
      name: '10. Dysarthria',
      options: [
        { value: 0, label: '0 = Normal' },
        { value: 1, label: '1 = Mild-moderate dysarthria' },
        { value: 2, label: '2 = Severe dysarthria' }
      ]
    },
    extinction: {
      name: '11. Extinction/Inattention',
      options: [
        { value: 0, label: '0 = No abnormality' },
        { value: 1, label: '1 = Inattention to one modality' },
        { value: 2, label: '2 = Profound hemi-inattention' }
      ]
    }
  };

  const totalNIHSS = Object.values(nihssScores).reduce((sum, score) => sum + score, 0);

  const getNIHSSSeverity = (score) => {
    if (score === 0) return { text: 'No stroke symptoms', color: 'text-green-600' };
    if (score <= 4) return { text: 'Minor stroke', color: 'text-yellow-600' };
    if (score <= 15) return { text: 'Moderate stroke', color: 'text-orange-600' };
    if (score <= 20) return { text: 'Moderate to severe stroke', color: 'text-red-600' };
    return { text: 'Severe stroke', color: 'text-red-800' };
  };

  const severity = getNIHSSSeverity(totalNIHSS);

  const updateNIHSS = (item, value) => {
    setNihssScores(prev => ({ ...prev, [item]: parseInt(value) }));
  };

  const updateStrokeData = (field, value) => {
    setStrokeData(prev => ({ ...prev, [field]: value }));
  };

  const toggleLab = (lab) => {
    setLabsOrdered(prev => ({ ...prev, [lab]: !prev[lab] }));
  };

  const contraindications = [
    { key: 'onAnticoagulation', label: 'On anticoagulation (check INR)' },
    { key: 'recentSurgery', label: 'Major surgery within 14 days' },
    { key: 'recentStroke', label: 'Stroke or head trauma within 3 months' },
    { key: 'activeBleed', label: 'Active internal bleeding' },
    { key: 'seizureAtOnset', label: 'Seizure at stroke onset' }
  ];

  const hasContraindications = contraindications.some(c => strokeData[c.key]);

  return (
    <div className="w-full max-w-6xl mx-auto p-6 bg-white">
      <div className="mb-6">
        <div className="flex items-center gap-3 mb-2">
          <Activity className="w-8 h-8 text-red-600" />
          <h1 className="text-3xl font-bold text-gray-900">Stroke Code Rapid Response Tool</h1>
        </div>
        <p className="text-gray-600">Comprehensive stroke assessment and decision support</p>
      </div>

      <div className="border-b border-gray-200 mb-6">
        <div className="flex gap-1">
          {['nihss', 'contraindications', 'labs', 'resources'].map((tab) => (
            <button
              key={tab}
              onClick={() => setActiveTab(tab)}
              className={`px-6 py-3 font-medium border-b-2 transition-colors ${
                activeTab === tab
                  ? 'border-red-600 text-red-600'
                  : 'border-transparent text-gray-600 hover:text-gray-900'
              }`}
            >
              {tab === 'nihss' && 'NIHSS Calculator'}
              {tab === 'contraindications' && 'tPA Checklist'}
              {tab === 'labs' && 'Labs & Imaging'}
              {tab === 'resources' && 'Resources'}
            </button>
          ))}
        </div>
      </div>

      {activeTab === 'nihss' && (
        <div>
          <div className="bg-blue-50 border-l-4 border-blue-600 p-4 mb-6">
            <div className="flex items-start gap-3">
              <AlertCircle className="w-5 h-5 text-blue-600 mt-1" />
              <div>
                <h3 className="font-semibold text-blue-900">NIH Stroke Scale (NIHSS)</h3>
                <p className="text-sm text-blue-800">
                  Standardized neurological examination for acute stroke severity. Score range: 0-42.
                </p>
              </div>
            </div>
          </div>

          <div className="bg-gray-50 rounded-lg p-6 mb-6">
            <div className="flex items-center justify-between">
              <div>
                <div className="text-sm text-gray-600">Total NIHSS Score</div>
                <div className={`text-5xl font-bold ${severity.color}`}>{totalNIHSS}</div>
              </div>
              <div className="text-right">
                <div className={`text-2xl font-semibold ${severity.color}`}>{severity.text}</div>
                <div className="text-sm text-gray-600 mt-1">Max Score: 42</div>
              </div>
            </div>
          </div>

          <div className="space-y-6">
            {Object.entries(nihssItems).map(([key, item]) => (
              <div key={key} className="bg-white border border-gray-200 rounded-lg p-4">
                <div className="font-semibold text-gray-900 mb-3">{item.name}</div>
                <div className="space-y-2">
                  {item.options.map((option) => (
                    <label key={option.value} className="flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                      <input
                        type="radio"
                        name={key}
                        value={option.value}
                        checked={nihssScores[key] === option.value}
                        onChange={(e) => updateNIHSS(key, e.target.value)}
                        className="w-4 h-4 text-red-600"
                      />
                      <span className="text-gray-700">{option.label}</span>
                    </label>
                  ))}
                </div>
              </div>
            ))}
          </div>
        </div>
      )}

      {activeTab === 'contraindications' && (
        <div>
          <div className="bg-red-50 border-l-4 border-red-600 p-4 mb-6">
            <div className="flex items-start gap-3">
              <AlertCircle className="w-5 h-5 text-red-600 mt-1" />
              <div>
                <h3 className="font-semibold text-red-900">tPA Eligibility Checklist</h3>
                <p className="text-sm text-red-800">
                  Check for contraindications to thrombolytic therapy. Review AHA/ASA guidelines for complete criteria.
                </p>
              </div>
            </div>
          </div>

          {hasContraindications && (
            <div className="bg-red-100 border border-red-400 rounded-lg p-4 mb-6">
              <div className="flex items-center gap-2">
                <AlertCircle className="w-5 h-5 text-red-700" />
                <span className="font-semibold text-red-900">Potential Contraindications Identified</span>
              </div>
            </div>
          )}

          <div className="space-y-4 mb-6">
            <div className="bg-white border border-gray-200 rounded-lg p-4">
              <h3 className="font-semibold text-gray-900 mb-4">Time Windows</h3>
              <div className="space-y-3">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Last Known Well Time</label>
                  <input
                    type="datetime-local"
                    value={strokeData.lastKnownWell}
                    onChange={(e) => updateStrokeData('lastKnownWell', e.target.value)}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                  />
                </div>
              </div>
            </div>

            <div className="bg-white border border-gray-200 rounded-lg p-4">
              <h3 className="font-semibold text-gray-900 mb-4">Vital Signs & Labs</h3>
              <div className="space-y-3">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Blood Pressure (mmHg)</label>
                  <input
                    type="text"
                    placeholder="e.g., 165/95"
                    value={strokeData.bloodPressure}
                    onChange={(e) => updateStrokeData('bloodPressure', e.target.value)}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                  />
                  <p className="text-xs text-gray-600 mt-1">Note: BP must be &lt;185/110 for tPA</p>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Glucose (mg/dL)</label>
                  <input
                    type="text"
                    placeholder="e.g., 120"
                    value={strokeData.glucose}
                    onChange={(e) => updateStrokeData('glucose', e.target.value)}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                  />
                  <p className="text-xs text-gray-600 mt-1">Must be &gt;50 mg/dL</p>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">INR Value</label>
                  <input
                    type="text"
                    placeholder="e.g., 1.2"
                    value={strokeData.inrValue}
                    onChange={(e) => updateStrokeData('inrValue', e.target.value)}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                  />
                  <p className="text-xs text-gray-600 mt-1">Must be &lt;1.7</p>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Platelet Count (×10⁹/L)</label>
                  <input
                    type="text"
                    placeholder="e.g., 200"
                    value={strokeData.plateletCount}
                    onChange={(e) => updateStrokeData('plateletCount', e.target.value)}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                  />
                  <p className="text-xs text-gray-600 mt-1">Must be &gt;100 × 10⁹/L</p>
                </div>
              </div>
            </div>

            <div className="bg-white border border-gray-200 rounded-lg p-4">
              <h3 className="font-semibold text-gray-900 mb-4">Major Contraindications</h3>
              <div className="space-y-2">
                {contraindications.map((item) => (
                  <label key={item.key} className="flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                    <input
                      type="checkbox"
                      checked={strokeData[item.key]}
                      onChange={() => updateStrokeData(item.key, !strokeData[item.key])}
                      className="w-4 h-4 text-red-600 rounded"
                    />
                    <span className="text-gray-700">{item.label}</span>
                  </label>
                ))}
              </div>
            </div>
          </div>

          <div className="bg-yellow-50 border border-yellow-300 rounded-lg p-4">
            <h3 className="font-semibold text-yellow-900 mb-2">Clinical Notes</h3>
            <ul className="text-sm text-yellow-800 space-y-1 list-disc list-inside">
              <li>IV tPA window: Within 4.5 hours of symptom onset (3 hours for age &gt;80, prior stroke + diabetes, NIHSS &gt;25, or anticoagulation)</li>
              <li>Endovascular therapy: Consider up to 24 hours in selected patients (DAWN/DEFUSE-3 criteria)</li>
              <li>Always perform non-contrast head CT before thrombolysis</li>
              <li>Consult neurology immediately for all stroke codes</li>
            </ul>
          </div>
        </div>
      )}

      {activeTab === 'labs' && (
        <div>
          <div className="bg-purple-50 border-l-4 border-purple-600 p-4 mb-6">
            <div className="flex items-start gap-3">
              <Clock className="w-5 h-5 text-purple-600 mt-1" />
              <div>
                <h3 className="font-semibold text-purple-900">Essential Labs & Imaging</h3>
                <p className="text-sm text-purple-800">
                  Time is brain! Only glucose and non-contrast CT are universally required before tPA.
                </p>
              </div>
            </div>
          </div>

          <div className="bg-white border border-gray-200 rounded-lg p-4 mb-6">
            <h3 className="font-semibold text-gray-900 mb-4">Required Before tPA (Do Not Delay)</h3>
            <div className="space-y-2">
              {[
                { key: 'glucose', label: 'Fingerstick Glucose', priority: 'STAT' },
                { key: 'noncontrastCT', label: 'Non-Contrast Head CT', priority: 'STAT' }
              ].map((lab) => (
                <label key={lab.key} className="flex items-center justify-between cursor-pointer hover:bg-gray-50 p-3 rounded border-l-4 border-red-500">
                  <div className="flex items-center gap-3">
                    <input
                      type="checkbox"
                      checked={labsOrdered[lab.key]}
                      onChange={() => toggleLab(lab.key)}
                      className="w-5 h-5 text-red-600 rounded"
                    />
                    <div>
                      <span className="font-medium text-gray-900">{lab.label}</span>
                      <span className="ml-2 text-xs bg-red-100 text-red-800 px-2 py-1 rounded">{lab.priority}</span>
                    </div>
                  </div>
                </label>
              ))}
            </div>
          </div>

          <div className="bg-white border border-gray-200 rounded-lg p-4 mb-6">
            <h3 className="font-semibold text-gray-900 mb-4">Important Labs (Can Send Simultaneously)</h3>
            <div className="space-y-2">
              {[
                { key: 'ptInr', label: 'PT/INR' },
                { key: 'aptt', label: 'aPTT' },
                { key: 'plateletCount', label: 'Platelet Count' },
                { key: 'cbc', label: 'Complete Blood Count' }
              ].map((lab) => (
                <label key={lab.key} className="flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-3 rounded border-l-4 border-yellow-500">
                  <input
                    type="checkbox"
                    checked={labsOrdered[lab.key]}
                    onChange={() => toggleLab(lab.key)}
                    className="w-5 h-5 text-yellow-600 rounded"
                  />
                  <span className="text-gray-700">{lab.label}</span>
                </label>
              ))}
            </div>
          </div>

          <div className="bg-white border border-gray-200 rounded-lg p-4">
            <h3 className="font-semibold text-gray-900 mb-4">Additional Workup (After tPA Decision)</h3>
            <div className="space-y-2">
              {[
                { key: 'renalFunction', label: 'Renal Function (BUN/Cr)' },
                { key: 'cardiacEnzymes', label: 'Cardiac Enzymes (Troponin)' },
                { key: 'lfts', label: 'Liver Function Tests' }
              ].map((lab) => (
                <label key={lab.key} className="flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-3 rounded border-l-4 border-gray-300">
                  <input
                    type="checkbox"
                    checked={labsOrdered[lab.key]}
                    onChange={() => toggleLab(lab.key)}
                    className="w-5 h-5 text-gray-600 rounded"
                  />
                  <span className="text-gray-700">{lab.label}</span>
                </label>
              ))}
            </div>
          </div>

          <div className="bg-blue-50 border border-blue-300 rounded-lg p-4 mt-6">
            <h3 className="font-semibold text-blue-900 mb-2">Additional Imaging Considerations</h3>
            <ul className="text-sm text-blue-800 space-y-1 list-disc list-inside">
              <li>CTA head/neck: Helps identify large vessel occlusion (LVO) for endovascular therapy</li>
              <li>CT perfusion: May help select patients for extended window thrombectomy</li>
              <li>MRI with DWI: More sensitive for small infarcts, but should not delay tPA if unavailable</li>
              <li>Echocardiogram: For embolic source workup (can be done after acute treatment)</li>
            </ul>
          </div>
        </div>
      )}

      {activeTab === 'resources' && (
        <div>
          <div className="bg-indigo-50 border-l-4 border-indigo-600 p-4 mb-6">
            <div className="flex items-start gap-3">
              <BookOpen className="w-5 h-5 text-indigo-600 mt-1" />
              <div>
                <h3 className="font-semibold text-indigo-900">Evidence-Based Resources</h3>
                <p className="text-sm text-indigo-800">
                  Key guidelines, landmark trials, and essential references for acute stroke management
                </p>
              </div>
            </div>
          </div>

          <div className="space-y-6">
            {/* Guidelines Section */}
            <div className="bg-white border border-gray-200 rounded-lg p-6">
              <h2 className="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                <span className="bg-indigo-600 text-white px-3 py-1 rounded text-sm">Guidelines</span>
                Clinical Practice Guidelines
              </h2>
              <div className="space-y-4">
                <div className="border-l-4 border-indigo-500 pl-4">
                  <h3 className="font-semibold text-gray-900">AHA/ASA Guidelines for Early Management of Acute Ischemic Stroke</h3>
                  <p className="text-sm text-gray-700 mt-1">Powers WJ, Rabinstein AA, Ackerson T, et al. Guidelines for the Early Management of Patients With Acute Ischemic Stroke: 2019 Update to the 2018 Guidelines for the Early Management of Acute Ischemic Stroke. <em>Stroke</em>. 2019;50(12):e344-e418.</p>
                  <p className="text-xs text-indigo-600 mt-1">DOI: 10.1161/STR.0000000000000211</p>
                </div>

                <div className="border-l-4 border-indigo-500 pl-4">
                  <h3 className="font-semibold text-gray-900">AHA/ASA Guidelines for Endovascular Treatment</h3>
                  <p className="text-sm text-gray-700 mt-1">Turc G, Bhogal P, Fischer U, et al. European Stroke Organisation (ESO) - European Society for Minimally Invasive Neurological Therapy (ESMINT) Guidelines on Mechanical Thrombectomy in Acute Ischemic Stroke. <em>J Neurointerv Surg</em>. 2023;15(8):e8.</p>
                  <p className="text-xs text-indigo-600 mt-1">DOI: 10.1136/jnis-2022-019546</p>
                </div>

                <div className="border-l-4 border-indigo-500 pl-4">
                  <h3 className="font-semibold text-gray-900">ACC/AHA Guideline for Prevention of Stroke in Patients With Stroke and TIA</h3>
                  <p className="text-sm text-gray-700 mt-1">Kleindorfer DO, Towfighi A, Chaturvedi S, et al. 2021 Guideline for the Prevention of Stroke in Patients With Stroke and Transient Ischemic Attack. <em>Stroke</em>. 2021;52(7):e364-e467.</p>
                  <p className="text-xs text-indigo-600 mt-1">DOI: 10.1161/STR.0000000000000375</p>
                </div>
              </div>
            </div>

            {/* Thrombolysis Trials */}
            <div className="bg-white border border-gray-200 rounded-lg p-6">
              <h2 className="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                <span className="bg-red-600 text-white px-3 py-1 rounded text-sm">Thrombolysis</span>
                Landmark IV tPA Trials
              </h2>
              <div className="space-y-4">
                <div className="border-l-4 border-red-500 pl-4">
                  <h3 className="font-semibold text-gray-900">NINDS rt-PA Stroke Study (1995)</h3>
                  <p className="text-sm text-gray-700 mt-1">Tissue plasminogen activator for acute ischemic stroke. The National Institute of Neurological Disorders and Stroke rt-PA Stroke Study Group. <em>N Engl J Med</em>. 1995;333(24):1581-1587.</p>
                  <p className="text-xs text-gray-600 mt-1">First trial demonstrating benefit of IV tPA within 3 hours of symptom onset</p>
                  <p className="text-xs text-red-600 mt-1">DOI: 10.1056/NEJM199512143332401</p>
                </div>

                <div className="border-l-4 border-red-500 pl-4">
                  <h3 className="font-semibold text-gray-900">ECASS III (2008)</h3>
                  <p className="text-sm text-gray-700 mt-1">Hacke W, Kaste M, Bluhmki E, et al. Thrombolysis with alteplase 3 to 4.5 hours after acute ischemic stroke. <em>N Engl J Med</em>. 2008;359(13):1317-1329.</p>
                  <p className="text-xs text-gray-600 mt-1">Extended tPA window to 4.5 hours in selected patients</p>
                  <p className="text-xs text-red-600 mt-1">DOI: 10.1056/NEJMoa0804656</p>
                </div>

                <div className="border-l-4 border-red-500 pl-4">
                  <h3 className="font-semibold text-gray-900">IST-3 (2012)</h3>
                  <p className="text-sm text-gray-700 mt-1">The benefits and harms of intravenous thrombolysis with recombinant tissue plasminogen activator within 6 h of acute ischaemic stroke (the third international stroke trial [IST-3]): a randomised controlled trial. <em>Lancet</em>. 2012;379(9834):2352-2363.</p>
                  <p className="text-xs text-gray-600 mt-1">Large trial including elderly patients and extended time window</p>
                  <p className="text-xs text-red-600 mt-1">DOI: 10.1016/S0140-6736(12)60768-5</p>
                </div>
              </div>
            </div>

            {/* Endovascular Trials */}
            <div className="bg-white border border-gray-200 rounded-lg p-6">
              <h2 className="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                <span className="bg-purple-600 text-white px-3 py-1 rounded text-sm">Thrombectomy</span>
                Landmark Endovascular Therapy Trials
              </h2>
              <div className="space-y-4">
                <div className="border-l-4 border-purple-500 pl-4">
                  <h3 className="font-semibold text-gray-900">MR CLEAN (2015)</h3>
                  <p className="text-sm text-gray-700 mt-1">Berkhemer OA, Fransen PS, Beumer D, et al. A randomized trial of intraarterial treatment for acute ischemic stroke. <em>N Engl J Med</em>. 2015;372(1):11-20.</p>
                  <p className="text-xs text-gray-600 mt-1">First trial demonstrating benefit of mechanical thrombectomy for large vessel occlusion</p>
                  <p className="text-xs text-purple-600 mt-1">DOI: 10.1056/NEJMoa1411587</p>
                </div>

                <div className="border-l-4 border-purple-500 pl-4">
                  <h3 className="font-semibold text-gray-900">ESCAPE (2015)</h3>
                  <p className="text-sm text-gray-700 mt-1">Goyal M, Demchuk AM, Menon BK, et al. Randomized assessment of rapid endovascular treatment of ischemic stroke. <em>N Engl J Med</em>. 2015;372(11):1019-1030.</p>
                  <p className="text-xs text-gray-600 mt-1">Demonstrated efficacy of rapid endovascular treatment</p>
                  <p className="text-xs text-purple-600 mt-1">DOI: 10.1056/NEJMoa1414905</p>
                </div>

                <div className="border-l-4 border-purple-500 pl-4">
                  <h3 className="font-semibold text-gray-900">EXTEND-IA (2015)</h3>
                  <p className="text-sm text-gray-700 mt-1">Campbell BC, Mitchell PJ, Kleinig TJ, et al. Endovascular therapy for ischemic stroke with perfusion-imaging selection. <em>N Engl J Med</em>. 2015;372(11):1009-1018.</p>
                  <p className="text-xs text-gray-600 mt-1">Used perfusion imaging to select patients for thrombectomy</p>
                  <p className="text-xs text-purple-600 mt-1">DOI: 10.1056/NEJMoa1414792</p>
                </div>

                <div className="border-l-4 border-purple-500 pl-4">
                  <h3 className="font-semibold text-gray-900">SWIFT PRIME (2015)</h3>
                  <p className="text-sm text-gray-700 mt-1">Saver JL, Goyal M, Bonafe A, et al. Stent-retriever thrombectomy after intravenous t-PA vs. t-PA alone in stroke. <em>N Engl J Med</em>. 2015;372(24):2285-2295.</p>
                  <p className="text-xs text-gray-600 mt-1">Demonstrated superiority of thrombectomy plus IV tPA vs IV tPA alone</p>
                  <p className="text-xs text-purple-600 mt-1">DOI: 10.1056/NEJMoa1415061</p>
                </div>

                <div className="border-l-4 border-purple-500 pl-4">
                  <h3 className="font-semibold text-gray-900">REVASCAT (2015)</h3>
                  <p className="text-sm text-gray-700 mt-1">Jovin TG, Chamorro A, Cobo E, et al. Thrombectomy within 8 hours after symptom onset in ischemic stroke. <em>N Engl J Med</em>. 2015;372(24):2296-2306.</p>
                  <p className="text-xs text-gray-600 mt-1">Confirmed benefit of endovascular therapy within 8 hours</p>
                  <p className="text-xs text-purple-600 mt-1">DOI: 10.1056/NEJMoa1503780</p>
                </div>
              </div>
            </div>

            {/* Extended Window Trials */}
            <div className="bg-white border border-gray-200 rounded-lg p-6">
              <h2 className="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                <span className="bg-green-600 text-white px-3 py-1 rounded text-sm">Extended Window</span>
                Late Window Thrombectomy Trials
              </h2>
              <div className="space-y-4">
                <div className="border-l-4 border-green-500 pl-4">
                  <h3 className="font-semibold text-gray-900">DAWN (2018)</h3>
                  <p className="text-sm text-gray-700 mt-1">Nogueira RG, Jadhav AP, Haussen DC, et al. Thrombectomy 6 to 24 Hours after Stroke with a Mismatch between Deficit and Infarct. <em>N Engl J Med</em>. 2018;378(1):11-21.</p>
                  <p className="text-xs text-gray-600 mt-1">Demonstrated benefit of thrombectomy 6-24 hours after symptom onset in selected patients</p>
                  <p className="text-xs text-green-600 mt-1">DOI: 10.1056/NEJMoa1706442</p>
                </div>

                <div className="border-l-4 border-green-500 pl-4">
                  <h3 className="font-semibold text-gray-900">DEFUSE 3 (2018)</h3>
                  <p className="text-sm text-gray-700 mt-1">Albers GW, Marks MP, Kemp S, et al. Thrombectomy for Stroke at 6 to 16 Hours with Selection by Perfusion Imaging. <em>N Engl J Med</em>. 2018;378(8):708-718.</p>
                  <p className="text-xs text-gray-600 mt-1">Used perfusion imaging to extend thrombectomy window to 6-16 hours</p>
                  <p className="text-xs text-green-600 mt-1">DOI: 10.1056/NEJMoa1713973</p>
                </div>

                <div className="border-l-4 border-green-500 pl-4">
                  <h3 className="font-semibold text-gray-900">WAKE-UP (2018)</h3>
                  <p className="text-sm text-gray-700 mt-1">Thomalla G, Simonsen CZ, Boutitie F, et al. MRI-Guided Thrombolysis for Stroke with Unknown Time of Onset. <em>N Engl J Med</em>. 2018;379(7):611-622.</p>
                  <p className="text-xs text-gray-600 mt-1">MRI-based selection for IV tPA in wake-up stroke patients</p>
                  <p className="text-xs text-green-600 mt-1">DOI: 10.1056/NEJMoa1804355</p>
                </div>
              </div>
            </div>

            {/* Key Meta-Analyses and Reviews */}
            <div className="bg-white border border-gray-200 rounded-lg p-6">
              <h2 className="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                <span className="bg-blue-600 text-white px-3 py-1 rounded text-sm">Reviews</span>
                Key Meta-Analyses and Systematic Reviews
              </h2>
              <div className="space-y-4">
                <div className="border-l-4 border-blue-500 pl-4">
                  <h3 className="font-semibold text-gray-900">HERMES Collaboration Meta-Analysis</h3>
                  <p className="text-sm text-gray-700 mt-1">Goyal M, Menon BK, van Zwam WH, et al. Endovascular thrombectomy after large-vessel ischaemic stroke: a meta-analysis of individual patient data from five randomised trials. <em>Lancet</em>. 2016;387(10029):1723-1731.</p>
                  <p className="text-xs text-gray-600 mt-1">Pooled analysis of major thrombectomy trials demonstrating consistent benefit</p>
                  <p className="text-xs text-blue-600 mt-1">DOI: 10.1016/S0140-6736(16)00163-X</p>
                </div>

                <div className="border-l-4 border-blue-500 pl-4">
                  <h3 className="font-semibold text-gray-900">Timing of Thrombolysis Meta-Analysis</h3>
                  <p className="text-sm text-gray-700 mt-1">Emberson J, Lees KR, Lyden P, et al. Effect of treatment delay, age, and stroke severity on the effects of intravenous thrombolysis with alteplase for acute ischaemic stroke: a meta-analysis of individual patient data from randomised trials. <em>Lancet</em>. 2014;384(9958):1929-1935.</p>
                  <p className="text-xs text-gray-600 mt-1">Demonstrates time-dependent benefit of IV tPA: "Time is brain"</p>
                  <p className="text-xs text-blue-600 mt-1">DOI: 10.1016/S0140-6736(14)60584-5</p>
                </div>

                <div className="border-l-4 border-blue-500 pl-4">
                  <h3 className="font-semibold text-gray-900">Stroke: Pathophysiology, Diagnosis, and Management</h3>
                  <p className="text-sm text-gray-700 mt-1">Grotta JC, Albers GW, Broderick JP, et al. <em>Stroke: Pathophysiology, Diagnosis, and Management</em>. 7th ed. Elsevier; 2021.</p>
                  <p className="text-xs text-gray-600 mt-1">Comprehensive textbook for stroke management</p>
                </div>
              </div>
            </div>

            {/* Additional Resources */}
            <div className="bg-white border border-gray-200 rounded-lg p-6">
              <h2 className="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                <span className="bg-yellow-600 text-white px-3 py-1 rounded text-sm">Resources</span>
                Additional Clinical Resources
              </h2>
              <div className="space-y-3">
                <div className="p-3 bg-gray-50 rounded border-l-4 border-yellow-500">
                  <h3 className="font-semibold text-gray-900">American Heart Association Stroke Council</h3>
                  <p className="text-sm text-gray-700 mt-1">www.heart.org/stroke - Updated guidelines and clinical resources</p>
                </div>

                <div className="p-3 bg-gray-50 rounded border-l-4 border-yellow-500">
                  <h3 className="font-semibold text-gray-900">UpToDate: Acute Stroke Topics</h3>
                  <p className="text-sm text-gray-700 mt-1">Regularly updated evidence-based clinical decision support</p>
                </div>

                <div className="p-3 bg-gray-50 rounded border-l-4 border-yellow-500">
                  <h3 className="font-semibold text-gray-900">Stroke Journal (AHA)</h3>
                  <p className="text-sm text-gray-700 mt-1">www.ahajournals.org/stroke - Premier journal for stroke research</p>
                </div>

                <div className="p-3 bg-gray-50 rounded border-l-4 border-yellow-500">
                  <h3 className="font-semibold text-gray-900">JAMA Neurology - Stroke Articles</h3>
                  <p className="text-sm text-gray-700 mt-1">Regular publications of landmark stroke trials and reviews</p>
                </div>
              </div>
            </div>

            {/* Note about evidence base */}
            <div className="bg-indigo-50 border border-indigo-200 rounded-lg p-4">
              <p className="text-sm text-indigo-900">
                <strong>Note:</strong> This tool is designed to support clinical decision-making and should be used in conjunction with current institutional protocols and neurology consultation. Guidelines and evidence continue to evolve - always verify with the most current AHA/ASA recommendations.
              </p>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
